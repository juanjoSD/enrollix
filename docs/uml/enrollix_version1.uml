'==============================
' Diagramme de Classes
'==============================

@startuml EnrollixClasses
package "Utilisateur / Auth" {
    class User {
        - id: int
        - email: str
        - password: str
        - role_id: int
        + login()
        + logout()
    }

    class Role {
        - id: int
        - name: str
    }

    class UserRole {
        - user_id: int
        - role_id: int
    }
}

package "Candidature" {
    class Application {
        - id: int
        - student_id: int
        - programme_id: int
        - year_id: int
        - status: str
    }
}

package "Programme Académique" {
    class Domaines {
        - id: int
        - name: str
        - description: str
    }

    class Programme {
        - id: int
        - name: str
        - description: str
    }

    class AcademicYear {
        - id: int
        - start_year: int
        - end_year: int
        - active: bool
    }
}

' Relations
User "1" -- "1..*" Role : has >
User "1" -- "0..*" Application : owns >
Application "1" -- "1" Programme : for >
Application "1" -- "1" AcademicYear : in >
Domaines "1" -- "*" Programme : contient >
@enduml

'==============================
' Diagramme de Cas d’Usage
'==============================
@startuml EnrollixUseCases_Columns
left to right direction

' ==== Étudiant ====
package "Étudiant" {
    actor Student
    (S'inscrire / Confirmer)
    (Se connecter)
    (Choisir programme)
    (Soumettre / Sauvegarder candidature)
    (Accéder profil / dashboard)
}

' ==== Admin Université ====
package "Admin Université" {
    actor UnivAdmin
    (Consulter candidatures)
    (Valider / Rejeter dossier)
    (Voir statistiques)
    (Filtrer candidatures)
}

' ==== Super Admin ====
package "Super Admin" {
    actor SuperAdmin
    (Gérer rôles)
    (Gérer programmes)
    (Gérer années académiques)
    (Gérer admins)
    (Gérer universités)
}

' ==== Relations ====
Student --> (S'inscrire / Confirmer)
Student --> (Se connecter)
Student --> (Choisir programme)
Student --> (Soumettre / Sauvegarder candidature)
Student --> (Accéder profil / dashboard)

UnivAdmin --> (Consulter candidatures)
UnivAdmin --> (Valider / Rejeter dossier)
UnivAdmin --> (Voir statistiques)
UnivAdmin --> (Filtrer candidatures)

SuperAdmin --> (Gérer rôles)
SuperAdmin --> (Gérer programmes)
SuperAdmin --> (Gérer années académiques)
SuperAdmin --> (Gérer admins)
SuperAdmin --> (Gérer universités)

@enduml


'==============================
' Diagramme d’Activité - Étudiant
'==============================
@startuml EnrollixActivityStudent
package "Étudiant" {
    start
    :Créer un compte étudiant;
    :Confirmer l'inscription;
    :Se connecter;
    :Choisir un programme;
    if (Candidature complète ?) then (oui)
    :Soumettre candidature;
    else (non)
    :Sauvegarder en brouillon;
    endif
    stop
}

@enduml

'==============================
' Diagramme d’Activité - Admin Universitaire
'==============================
@startuml EnrollixActivityUnivAdmin
package "Admin Universitaire" {
    start
    :se connecter à son compte admin;
    :avoir accès au tableau de bord;
    :voir les candidatures;
    if (Candidatures à gérer ?) then (oui)
    :voir la liste;
    :valider / Rejeter;
    else (non)
    :Voir les statistiques;
    endif
    stop
}

@enduml


'==============================
' Diagramme d’Activité - Super Admin
'==============================
@startuml EnrollixActivitySuperAdmin
package "Admin Universitaire" {
    start
    :se connecter à son compte admin;
    :avoir accès au tableau de bord générale;
    :Créer les universités;
    :Créer les domaines et leurs programmes;
    :Créer les admins Universitaires;
    stop
}

@enduml